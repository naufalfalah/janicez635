<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Registration</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid bg">
    <div class="container-fluid">
        <div class="row d-flex">
            <div class="col-lg-6 custom-css">
                <div class="tabs-wrapper">
                    <div class="container p-0" id="form-container">
                        <form action="../submit.php" method="POST">
                            <!-- Steps -->
                            <div id="step1">
                                <h2>Household Scheme</h2>
                                <p>Who will be included in your EC purchase?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="1">
                                        <input type="radio" name="option" value="Yourself + fiancé/fiancée"> Yourself + fiancé/fiancée
                                    </label>
                                    <label class="step-option" data-step="1">
                                        <input type="radio" name="option" value="Yourself + spouse"> Yourself + spouse
                                    </label>
                                    <label class="step-option" data-step="1">
                                        <input type="radio" name="option" value="Yourself + parents"> Yourself + parents
                                    </label>
                                    <label class="step-option" data-step="1">
                                        <input type="radio" name="option" value="Yourself + child under legal custody"> Yourself + child under legal custody
                                    </label>
                                    <label class="step-option" data-step="1" value="Yourself + up to 3 other singles (all 35 and above)">
                                        <input type="radio" name="option"> Yourself + up to 3 other singles (all 35 and above)
                                    </label>
                                    <label class="step-option" data-step="1">
                                        <input type="radio" name="option" value="Yourself + orphaned sibling(s)"> Yourself + orphaned sibling(s)
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>

                            <div id="step2" style="display: none;">
                                <h2>Citizenship</h2>
                                <p>Does your household include a Singapore Citizen?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="2">
                                        <input type="radio" name="citizenship" value="At least one Singapore Citizen and one PR"> Yes, at least one Singapore Citizen and one Permanent Resident
                                    </label>
                                    <label class="step-option" data-step="2">
                                        <input type="radio" name="citizenship" value="All others are PR or Citizen"> Yes, at least one Singapore Citizen and all others are either Permanent Residents or Citizens
                                    </label>
                                    <label class="step-option" data-step="2">
                                        <input type="radio" name="citizenship" value="No Singapore Citizen or PR"> No, no Singapore Citizens or Permanent Residents
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>
                            <div id="step3" style="display: none;">
                                <h2>Age Requirement</h2>
                                <p>Are you and/or your co-applicants of eligible age?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="3">
                                        <input type="radio" name="age" value="At least 21 years old"> Yes, I am at least 21 years old
                                    </label>
                                    <label class="step-option" data-step="3">
                                        <input type="radio" name="age" value="At least 35 years old (Joint Singles Scheme)"> Yes, I am at least 35 years old (applying under the Joint Singles Scheme)
                                    </label>
                                    <label class="step-option" data-step="3">
                                        <input type="radio" name="age" value="No"> No
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>
                            <div id="step4" style="display: none;">
                                <h2>Monthly Household Income</h2>
                                <p>Is your combined household income below $16,000?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="4">
                                        <input type="radio" name="income" value="Yes"> Yes
                                    </label>
                                    <label class="step-option" data-step="4">
                                        <input type="radio" name="income" value="No"> No
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1) " style="display: none;">Next</button>
                            </div>
                            <div id="step5" style="display: none;">
                                <h2>HDB Ownership Status</h2>
                                <p>Do you or any co-applicants currently own an HDB flat?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="5">
                                        <input type="radio" name="hdb" value="MOP completed"> Yes, MOP completed
                                    </label>
                                    <label class="step-option" data-step="5">
                                        <input type="radio" name="hdb" value="Do not own any HDB"> No, do not own any HDB
                                    </label>
                                    <label class="step-option" data-step="5">
                                        <input type="radio" name="hdb" value="Still within MOP"> Yes, still within MOP
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>
                            <div id="step6" style="display: none;">
                                <h2>Private Property Ownership in the Last 30 Months</h2>
                                <p>Have you or any co-applicants owned or disposed of any private property in the past 30 months?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="6">
                                        <input type="radio" name="private_property" value="Yes">Yes
                                    </label>
                                    <label class="step-option" data-step="6">
                                        <input type="radio" name="private_property" value="No"> No
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>
                            <div id="step7" style="display: none;">
                                <h2>First-Time Applicant</h2>
                                <p>Is this your first application for an HDB/EC property?</p>
                                <div class="radio-group">
                                    <label class="step-option" data-step="7">
                                        <input type="radio" name="first_time" value="Yes">Yes
                                    </label>
                                    <label class="step-option" data-step="7">
                                        <input type="radio" name="first_time" value="No">No
                                    </label>
                                </div>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep + 1)" style="display: none;">Next</button>
                            </div>
                            <div id="step8" style="display: none;">
                                <h2>Contact Information</h2>
                                <p>Please enter your contact details</p>
                                <label>Full Name</label>
                                <input type="text" name="name" class="form-control" placeholder="Enter your full name" required>
                                <label>Phone Number</label>
                                <input id="form_field" type="number" name="phone" class="form-control" placeholder="+65" required>
                                <label>Email Address</label>
                                <input type="email" name="email" class="form-control" placeholder="Enter your email" required>
                                <button class="btn btn-secondary mt-3" onclick="showStep(currentStep - 1)">Previous</button>
                                <button class="btn btn-primary mt-3" type="submit">Submit</button>
                            </div>
                            <!-- Progress Bar -->
                            <div class="progress mt-4">
                                <div id="progress-bar" class="progress-bar" style="width: 12.5%;"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 p-0">
                <div class="image-wrapper">
                    <img src="bg.png">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- CONTAINER -->
<div id="popup-container">
    <div class="popup">
        <div class="user-icon">
            <img src="https://i.ibb.co/GfXy149N/pixelcut-export.png" alt="User Icon">
        </div>
        <div class="popup-content"></div>
    </div>
</div>

<!-- Popup -->
<script>
    const names = [
        "Emily Tan Wei Ling",
        "Brandon Ng Jia Hao",
        "Siti Nur Aisyah Binti Ahmad",
        "Darren Lim Xin Rui",
        "Nurul Izzati Binti Hassan",
        "Rachel Wong Yi Xuan",
        "Muhammad Faris Bin Zulkifli",
        "Sophia Lee Mei Zhen",
        "Hafiz Rahman Bin Ismail",
        "Chloe Cheng Yu Xuan"
    ];

    let currentIndex = 0;

    function showPopup() {
        const popupContent = document.querySelector('.popup-content');
        const name = names[currentIndex];
        // Only show the name with 'submitted recently' text
        popupContent.innerHTML = `${name}<br> just submitted recently`;

        // Show the popup
        const popup = document.querySelector('.popup');
        popup.style.opacity = '1';

        // Hide the popup after 5 seconds
        setTimeout(() => {
            popup.style.opacity = '0';
            currentIndex = (currentIndex + 1) % names.length; // Move to the next name
        }, 5000);
    }

    // Start showing popups every 10 seconds
    setInterval(showPopup, 10000); // Every 10 seconds (5 seconds display + 5 seconds wait)

    // Initial call to show the first popup immediately
    showPopup();
</script>
<!-- BOOTSTRAP SCRIPT -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    let currentStep = 1;
    let totalSteps = 8;

    function showStep(step) {
        if (step < 1 || step > totalSteps) return; // Prevent going out of bounds
        currentStep = step;
        document.querySelectorAll('[id^="step"]').forEach(stepDiv => {
            stepDiv.style.display = 'none';
        });
        document.getElementById('step' + step).style.display = 'block';
        updateProgressBar(step);
    }

    function updateProgressBar(step) {
        let progress = (step / totalSteps) * 100;
        document.getElementById('progress-bar').style.width = progress + '%';
    }

    document.querySelectorAll('.step-option').forEach(option => {
        option.addEventListener('click', function() {
            let step = parseInt(this.getAttribute('data-step'));
            if (step < totalSteps) {
                showStep(step + 1);
            }
        });
    });
</script>

<script defer>
document.addEventListener("DOMContentLoaded", function() {
  setTimeout(function() {
    const phoneNumberInput = document.getElementById("form_field");
    phoneNumberInput.addEventListener("input", function() {
      let phoneNumber = this.value.replace(/\D/g, ''); // Remove non-numeric characters
      phoneNumber = phoneNumber.slice(0, 8); // Limit to 8 digits
      this.value = phoneNumber; // Update the input value
      // Check if the first digit is 8 or 9, and the length is 8 digits
      if (phoneNumber.length === 8 && (phoneNumber.startsWith('8') || phoneNumber.startsWith('9'))) {
        this.setCustomValidity(''); // Clear any previous error message
      } else {
        this.setCustomValidity('Please enter a valid 8-digit phone number starting with 8 or 9.');
      }
    });
  }, 1000);
});
</script>

</body>
</html>